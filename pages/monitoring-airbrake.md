# Monitoring with Airbrake

Airbrake collects errors generated by other applications and aggregates the results. Errors are displayed in a web UI and optionally through an RSS feed.

This page describes setting up and integrating Airbrake with a Rails 3 application:  

* [Get an Airbrake account][2]
* [Add the Airbrake gem][3]
* [Configure your application to use Airbrake][4]
* [Test Airbrake for your application][5]

<!-- Why should I use Airbrake? What are the alternatives? When should I use one rather than another? -->

<h2 id="topic2"> Get an Airbrake account</h2>

You need an Airbrake account. Airbrake offers several tiers of service, including a free plan and a free trial.

**Note:** Each tier of Airbrake has a different error-rate limit. The error-rate limit for the free tier is 5 errors per minute. Any errors reported to Airbrake after the rate limit is reached are ignored and discarded. 

###To get an Airbrake account

1. Navigate to [[airbrakeapp.com|http://www.airbrakeapp.com]].
2. Sign up for an account.

<h2 id="topic3">Add the airbrake gem </h2>

Add the airbrake gem to the application Gemfile in your local environment, and then run bundle install.

###To install the airbrake gem for a Rails 3.x application

<!-- Does this work with Rails 3.1 and 3.0? 
If so, do we need to modify the command? "~> 3.0.rc2" -->

1. Add the latest version of the airbrake gem to your Gemfile, for example:

        gem "airbrake", "~> 3.0.rc2"

2. Run bundle install to update Gemfile.lock:

        bundle install


<h2 id="topic4">Configure your application to use Airbrake</h2>

You need to create a project in Airbrake and add the project's API to your Ruby application. 


###To configure your application to use Airbrake

1. Log into your Airbrake account.

2. Create a project.

3. Copy the API key.  
    ![The API key that appears in step 3 of the Airbrake project](images/airbrake_api_key.png)

2. Run this command in your local Rails root directory:    
        script/rails generate airbrake --api-key API_Key
    
    Where API_Key is the full key (as shown in Step 3).  
    For example:  
        script/rails generate airbrake --api-key 5eb82ba445b692f7dd89ff84c8a551ea

    This script creates a test error that is reported by Airbrake.  
              create  config/initializers/airbrake.rb
		         run  rake airbrake:test --trace from "."
		(in /Users/jday/projects/deploydayapp/myapp)
		** Invoke airbrake:test (first_time)
		** Invoke environment (first_time)
		** Execute environment
		** Execute airbrake:test
		...
		AirbrakeTestingException (Testing airbrake via "rake airbrake:test". If you can see this, it works.):

		true

3. Log in to the email account associated with your Airbrake account or log in to your Airbrake account itself and look for an error report generated by the test script.
    

<h2 id="topic5">Test Airbrake for your application</h2>

You can test Airbrake for your application at any time by running a command that generates an error. 

###To test Airbrake

1. Run this command in your local Rails root directory:     
        rake airbrake:test  

<!-- what's the response? -->

[1]: #topic1        "topic1"
[2]: #topic2        "topic2"
[3]: #topic3        "topic3"
[4]: #topic4        "topic4"
[5]: #topic5        "topic5"