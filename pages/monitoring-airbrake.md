# Monitoring with Airbrake

Airbrake collects errors generated by other applications and aggregates the results. Errors are displayed in a web UI and optionally through an RSS feed.

This page describes setting up and integrating Airbrake with a Rails 3 application:  

* [Get an Airbrake account][2]
* [Add the Airbrake gem][3]
* [Configure your application to use Airbrake][4]
* [Test Airbrake for your application][5]

<!-- Why should I use Airbrake? What are the alternatives? When should I use one rather than another? -->

<h2 id="topic2"> Get an Airbrake account</h2>

You need an Airbrake account. Airbrake offers several tiers of service, including a free plan and a free trial.

**Note:** Each tier of Airbrake has a different error-rate limit. The error-rate limit for the free tier is 5 errors per minute. Any errors reported to Airbrake after the rate limit is reached are ignored and discarded. 

###To get an Airbrake account

1. Navigate to [[airbrakeapp.com|http://www.airbrakeapp.com]].
2. Sign up for an account.

<!-- Are there any accounts that won't work with Engine Yard?
     What do I enter for Subdomain for an account that works well with a simple Engine Yard application?   -->

<h2 id="topic3">Add the airbrake gem </h2>

Add the airbrake gem to your Gemfile, then run bundle install.

###To install the airbrake gem for a Rails 3.x application

<!-- Does this work with Rails 3.1 and 3.0? 
If so, do we need to modify the command? "~> 3.0.rc2" -->

1. Add the latest version of the airbrake gem to your Gemfile, for example:

        gem "airbrake", "~> 3.0.rc2"

2. Run bundle install to update Gemfile.lock:

        bundle install


<h2 id="topic4">Configure your application to use Airbrake</h2>

<!-- You will then need to configure Airbrake with your API key. This key is displayed on first screen when you login to Airbrake (along with the other commands listed here)

    script/rails generate airbrake --api-key [API KEY]

When you run the generate script it will throw a test error, this error should be reported by Airbrake and demonstrates  that the setup was successful. -->


###To configure your application to use Airbrake

1. Log into your Airbrake account and copy the API key.  
    The key is displayed on the home page for your account.
    [screenshot]

2. Type:  
        script/rails generate airbrake --api-key [API KEY]
    for example:  
        script/rails generate airbrake --api-key xxxx

    <!-- Where does the above get typed get typed?  -->

    This script creates a test error that is reported by Airbrake.

3. View the test error to confirm configuration.  

    <!-- Presumably I log into Airbrake and see my error somewhere... -->

<h2 id="topic5">Test Airbrake for your application</h2>

You can test Airbrake for your application at any time by running a command that generates an error. 

###To test Airbrake

<!-- Where do I type this? SSH into my instance -->

1. Type:  
        rake airbrake:test  

<!-- what's the response? -->

[1]: #topic1        "topic1"
[2]: #topic2        "topic2"
[3]: #topic3        "topic3"
[4]: #topic4        "topic4"
[5]: #topic5        "topic5"